---
output: github_document
always_allow_html: true
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# noaa

<!-- badges: start -->
[![R-CMD-check](https://github.com/philippB-on-git/noaa/workflows/R-CMD-check/badge.svg)](https://github.com/philippB-on-git/noaa/actions)
[![Travis build status](https://travis-ci.com/philippB-on-git/noaa.svg?branch=master)](https://travis-ci.com/philippB-on-git/noaa)
<!-- badges: end -->

The goal of noaa is to visualize earthquake data obtained from U.S. National Oceanographic and Atmospheric Administration (NOAA): 
Earthquake Database. NOAA National Centers for Environmental Information.  [doi:10.7289/V5TD9V7K](https://www.ncei.noaa.gov/access/metadata/landing-page/bin/iso?id=gov.noaa.ngdc.mgg.hazards:G012153)


## Installation

You can install the development version of noaa from [GitHub](https://github.com/) with:

``` r
# install.packages("devtools")
devtools::install_github("philippB-on-git/noaa")
```

## Example

The package provides functionality to read, clean and visualize noaa data:

```{r example, fig.retina=3, fig.height=6, message=FALSE}
library(dplyr)
library(noaa)

noaa_data <- system.file("extdata", "noaa_earthquakes.tsv", package = "noaa") %>%
    eq_read_data %>%
    eq_clean_data %>%
    filter(COUNTRY %in% c("MEXICO", "JAPAN") & YEAR > 1800)

timeline <- noaa_data %>%
    plot_eq_timeline(label = NULL)

timeline +
    geom_timeline_label(data = noaa_data, mapping = ggplot2::aes(y = COUNTRY, label = LOCATION_NAME), n_max = 3)
```
  
  
Mapping of earthquake locations on maps:
```{r example2, results='hide', eval=FALSE}
noaa_data %>%
    mutate(info_text = eq_create_label(.)) %>%
    eq_map(annot_col = "info_text")
```
![eq_map example](example_eq_map.png)
