tmp_for_vignette

GEOM_TIMELINE
# plotting a time line of earthquakes ranging from xmin to xmaxdates with a point for each
# earthquake. Optional aesthetics include color, size, and alpha (for transparency).
# The xaesthetic is a date and an optional y aesthetic is a factor indicating some stratification
# in which case multiple time lines will be plotted for each level of the factor (e.g. country).

GEOM_TIMELINE_LABEL
# adding annotations to the earthquake data. This geom adds a vertical line to each data point
# with a text annotation (e.g. the location of the earthquake) attached to each line.
# There should be an option to subset to n_max number of earthquakes, where we take the n_max
# largest (by magnitude) earthquakes. Aesthetics are x, which is the date of the earthquake and
# label which takes the column name from which annotations will be obtained.

EQ_CREATE_LABEL
# takes the dataset as an argument and creates an HTML label that can be used as the annotation text
# in the leaflet map. This function should put together a character string for each earthquake that
# will show the cleaned location (as cleaned by the eq_location_clean() function created in
#                                 Module 1), the magnitude (EQ_PRIMARY), and the total number of
# deaths (TOTAL_DEATHS), with boldface labels for each ("Location", "Total deaths", and "Magnitude").
# If an earthquake is missing values for any of these, both the label and the value should be skipped
# for that element of the tag. Your code should be able to be used in the following way:
# readr::read_delim("earthquakes.tsv.gz", delim = "\t") %>%
#     eq_clean_data() %>%
#     dplyr::filter(COUNTRY == "MEXICO" & lubridate::year(DATE) >= 2000) %>%
#     dplyr::mutate(popup_text = eq_create_label(.)) %>%
#     eq_map(annot_col = "popup_text")

EQ_READ_DATA
# Please cite as:
# National Geophysical Data Center / World Data Service (NGDC/WDS): NCEI/WDS Global Significant
# Earthquake Database. NOAA National Centers for Environmental Information. doi:10.7289/V5TD9V7K

EQ_CLEAN_DATA
# 1. date column by uniting year, month and day => convert to class data
# 2. LATITUDE and LONGITUDE columns converted to numeric class